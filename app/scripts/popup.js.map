{"version":3,"sources":["../scripts.babel/popup.js"],"names":[],"mappings":"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","file":"popup.js","sourcesContent":["'use strict';\n\n//Firebase.enableLogging(true);\n\nvar bgPage = chrome.extension.getBackgroundPage();\nvar ref = bgPage.ref;\nvar userRef;\n\nvar $settingsPopup = $('.settings-popup');\nvar $notifPopup = $('.notif-popup');\nvar $ignoredPopup = $('.ignored-popup');\n\n\n$('#settings-nav').click(function() {\n  $notifPopup.hide();\n  $ignoredPopup.hide();\n  $settingsPopup.show();\n});\n$('#notif-nav').click(function() {\n  if (ref !== null) {\n    $ignoredPopup.hide();\n    $settingsPopup.hide();\n    $notifPopup.show();\n  }\n});\n$('#ignored-nav').click(function() {\n  if (ref !== null) {\n    $settingsPopup.hide();\n    $notifPopup.hide();\n    $ignoredPopup.show();\n  }\n});\n\nif (ref === null || ref.getAuth() === null) {\n  $notifPopup.hide();\n  $ignoredPopup.hide();\n  $settingsPopup.show();\n} else {\n  console.log('Ref working');\n  userRef = ref.child(ref.getAuth().uid);\n  userRef.child('notifications').once('value', function(dataSnapshot) {\n    console.log('Notifications Snapshot returned');\n    var $notifCards = $('.notif-cards').html('');\n    dataSnapshot.forEach(function(childSnapshot) {\n      console.log('Notifications for each');\n      $notifCards.append($(document.createElement('div'))\n        .addClass('card blue-grey darken-1')\n        .append($(document.createElement('div'))\n          .addClass('card-content white-text')\n          .append($(document.createElement('span'))\n            .addClass('card-title')\n            .html(childSnapshot.child('title').val()))\n          .append($(document.createElement('p'))\n            .html(childSnapshot.child('text').val())))\n        .append($(document.createElement('div'))\n          .addClass('card-action')\n          .append($(document.createElement('a'))\n            .html('Dismiss')\n            .addClass('dismess-card-action')\n            .data('key', childSnapshot.key()))\n          .append($(document.createElement('a'))\n            .html('Ignore from this app')\n            .addClass('ignore-app-card-action')\n            .data('key', childSnapshot.key()))));\n    });\n  });\n  userRef.child('ignored_apps').once('value', function(dataSnapshot) {\n    console.log('Notifications Snapshot returned');\n    var $ignoredCards = $('.ignored-cards').html('');\n    dataSnapshot.forEach(function(childSnapshot) {\n      console.log('Notifications for each');\n      $ignoredCards.append($(document.createElement('div'))\n        .addClass('card blue-grey darken-1')\n        .append($(document.createElement('div'))\n          .addClass('card-content white-text')\n          .append($(document.createElement('span'))\n            .addClass('card-title')\n            .html(childSnapshot.key())))\n        .append($(document.createElement('div'))\n          .addClass('card-action')\n          .append($(document.createElement('a'))\n            .html('Allow App')\n            .addClass('allow-app-card-action')\n            .data('key', childSnapshot.key()))));\n    });\n  });\n  $('.dismess-card-action').click(function(e) {\n    var $temp = $(e.target);\n    userRef.child('notifications/' + $temp.data('key')).remove();\n    $temp.closest('.card').hide();\n  });\n  $('.ignore-app-card-action').click(function(e) {\n    var $temp = $(e.target);\n    userRef.child('notifications/' + $temp.data('key')).once('value', function(dataSnapshot) {\n      userRef.child('ignored_apps/' + dataSnapshot.child('package').val()).set(true);\n      $temp.closest('.card').hide();\n    });\n  });\n  $('.allow-app-card-action').click(function(e) {\n    var $temp = $(e.target);\n    userRef.child('ignored_apps/' + $temp.data('key')).remove();\n    $temp.closest('.card').hide();\n  });\n}\n\n$('#auth-form').submit(function() {\n  //bgPage.showNotif('basic', '/icons/icon128.png', 'This Is A Notification', 'This is a message', function () {\n  console.log('Submit form');\n  var fDb = $('#firebase-db').val();\n  var fUrl = 'https://' + fDb + '.firebaseio.com/';\n  var email = $('#firebase-auth-email').val();\n  var pass = $('#firebase-auth-password').val();\n  var storages = {\n    'firebase-db': fDb,\n    'firebase-url': fUrl,\n    'firebase-email': email\n  };\n  chrome.storage.sync.set(storages, function() {\n    // Notify that we saved.\n    console.log('Settings saved');\n    console.log(storages);\n    bgPage.authenticate(email, pass);\n    //   $('#auth-results').html('Succesful Authentication');\n    // } else {\n    //   $('#auth-results').html('Authentication Error: Try Again');\n    // }\n  });\n  return false;\n});\n$('#unset-unauth').click(function() {\n  bgPage.unAuthenticate();\n});\n//# sourceMappingURL=popup.js.map\n"]}